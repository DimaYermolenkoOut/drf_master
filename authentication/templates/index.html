{% load socialaccount %}
<html>
<head>
  <script async src="https://telegram.org/js/telegram-widget.js?22" data-telegram-login="drfmasterservice_bot" data-size="large" data-onauth="onTelegramAuth(user)" data-request-access="write"></script>
  <script type="text/javascript">
    function onTelegramAuth(user) {
      alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');
    }
  </script>
</head>
<body>
<h1>Hillel Django Google Auth</h1>
{% if user.is_authenticated %}
  <p>Logged in as {{ user.username }}</p>
  <a href="{% provider_login_url 'google' process='connect' %}">connect Google account</a>
  <a href="{% provider_login_url 'telegram' process='connect' %}">connect Telegram account</a>
  <p><a href="/docs/">Continue</a></p>
{% else %}
  <a href="{% provider_login_url 'google' %}">Login with Google</a>
  <a href="{% provider_login_url 'telegram' %}">Login with Telegram</a>
{% endif %}

</body>
</html>
